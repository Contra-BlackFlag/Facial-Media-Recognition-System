<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Select Storage - FMRS</title>
 <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@400;700&family=VT323&display=swap" rel="stylesheet">    <script src="[https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js](https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js)"></script>    
        <style>
        body { font-family: 'Manrope', sans-serif; background-color: #000000; }
        .font-dotmatrix { font-family: 'VT323', monospace; }
    </style>
</head>
<body class="text-gray-200">
    <div class="container mx-auto p-4 md:p-8 max-w-2xl min-h-screen flex flex-col justify-center">
        <header class="text-center mb-12">
            <h1 class="font-dotmatrix text-6xl md:text-7xl font-bold text-white tracking-widest">F<span class="text-red-500">M</span>RS</h1>
             <div class="flex justify-between items-center mt-4">
                <span class="text-gray-400">Welcome, {{ session.username }}!</span>
                <a href="{{ url_for('logout') }}" class="text-gray-400 hover:text-white transition">Logout</a>
            </div>
        </header>

        {% with messages = get_flashed_messages(with_categories=true) %}
            {% if messages %}
                <div class="mb-8">
                {% for category, message in messages %}
                    <div class="p-4 rounded-lg {% if category == 'error' %} bg-red-900/50 text-red-300 {% else %} bg-blue-900/50 text-blue-300 {% endif %}">
                        {{ message }}
                    </div>
                {% endfor %}
                </div>
            {% endif %}
        {% endwith %}

        <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
            <!-- Create New Storage -->
            <div class="bg-gray-900/50 p-6 rounded-3xl border border-gray-800 text-center">
                <h2 class="font-dotmatrix text-3xl text-white mb-4">New Library?</h2>
                <p class="text-gray-400 mb-6">Create a new, shareable photo library. You'll get a unique key to share with others.</p>
                <form action="{{ url_for('create_storage') }}" method="POST">
                    <button type="submit" class="w-full bg-red-600 text-white font-bold py-3 px-4 rounded-full hover:bg-red-700 transition">Create New Library</button>
                </form>
            </div>

            <!-- Access Existing Storage -->
            <div class="bg-gray-900/50 p-6 rounded-3xl border border-gray-800 text-center">
                <h2 class="font-dotmatrix text-3xl text-white mb-4">Existing Library?</h2>
                <p class="text-gray-400 mb-6">Enter a key to access a library that you or someone else created.</p>
                <form action="{{ url_for('access_storage') }}" method="POST">
                    <input type="text" name="storage_key" placeholder="Enter library key..." class="w-full bg-gray-800 border border-gray-700 rounded-full px-4 py-3 text-white focus:outline-none focus:ring-2 focus:ring-red-500 mb-4" required>
                    <button type="submit" class="w-full bg-white text-black font-bold py-3 px-4 rounded-full hover:bg-gray-200 transition">Access with Key</button>
                </form>
            </div>
        </div>
    </div>
</body>
</html>
